
<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src='https://kit.fontawesome.com/a076d05399.js' crossorigin='anonymous'></script>
  <style>
      
    .bnt{
      margin-top:20px;
    }
    .bnt button{
      padding:10px 10px;
    }
      table {
        font-family: arial, sans-serif;
        border-collapse: collapse;
        width: 100%;
      }
      
      td, th {
        border: 1px solid #dddddd;
        text-align: left;
        padding: 8px;
      }
      
 
      </style>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drop down menu</title>
  <style>
  *    /**/
    {
        padding:0; 
        margin:0 ;
        box-sizing: border-box;
    }
    body{                  /*background-image creation*/
    background-image:url();
    background-size:cover;
    background-position:center;
    box-sizing:border-box;
    }
    .menu-bar                          /* menu bar configuration*/
    {
        background:green;
        text-align:center;
       
    }
    .menu-bar ul             /*display of elements in menu bar*/
    {
       display:flex;
       list-style:none;
       color:green; 
    }
    .menu-bar ul li       /*spcaing betwen elements*/
    {
      width:70px;
      margin:10px;
      
     
    }
    li a {
      font-size: 12px;
    
    }
    .menu-bar ul li a 
    {
        text-decoration:none ;
        color:#fff;

    }
    .active ,.menu-bar ul li:hover 
    {
     background:red ;
     border-radius:3px;  
    }
    .sub-menu
    { 
        display:none;
    }
    .menu-bar ul li:hover .sub-menu
    {
      display:block; 
      position:absolute;
      background:rgb(0,100,0) ;
      margin-top:-40px;
      margin-left:-15px ;  
      
    }
    .menu-bar ul li:hover .sub-menu ul 
    {
        display:block ;
        margin:5px;
        }
        .menu-bar ul li:hover .sub-menu ul li 
    {
     
        width:120px ;
        padding:5px;
        }
    .sub-menu-2
    {
        display:none;
    

      
    }
    .hover-me:hover .sub-menu-2 
    {
  
        position:absolute ;
        display:block;
        margin-top:-60px;
        margin-left:90px ;
        background:green;
        font-size:10px;

    }
    .popup {
          display: none; /* Hide the pop-up by default */
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          background-color: white;
          padding: 20px;
          border: 1px solid #ccc;
          box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);
          z-index: 9999;
      }
      /* Styling for the overlay */
      .overlay {
          display: none; /* Hide the overlay by default */
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 0, 0.5);
          z-index: 999;
      }
   
      .pop{
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 9999; /* Sit on top */
  left: 0;
  top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
  padding-top: 60px; /* Place content 60px from the top */
}


.pap{
  display: none; /* Hidden by default */
  position: fixed; /* Stay in place */
  z-index: 9999; /* Sit on top */
  left: 0;
 top: 0;
  width: 100%; /* Full width */
  height: 100%; /* Full height */
  overflow: auto; /* Enable scroll if needed */
  background-color: rgb(0,0,0); /* Fallback color */
  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
  padding-top: 60px; /* Place content 60px from the top */
}

/* Popup content */
.popup-content {
  background-color: #fefefe;
  margin: 5% auto; /* 15% from the top and centered */
  padding: 20px;
  border: 1px solid #888;
  width: 80%; /* Could be more or less, depending on screen size */
}
.pop-content {
  background-color: #fefefe;
/* 15% from the top and centered */
  padding: 10px;
  border: 1px solid #888;
 
}

/* Close button */
.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}
.hidden {
          display: none;
      }

.container{
  position: absolute;
  left:10%;
  top:10%;

}
.x1{
 background-color: red; 
 width:1200px;
 height:450px;
 display: flex;
}
.x2{
  background-color: whitesmoke; 
 width:300px;
 height:450px;
 overflow-y: scroll;
font-size:18px;
display: flex;
flex-direction: column;
}
.x3{
 display:flex;
 flex-direction: column; 
}
.x7{display: flex;flex-direction: column;}
.k1{display:flex;margin-top:20px;}
.k2{margin-left:30px;}
.k4{display:flex;margin-top: 20px;}
.k5{margin-left:5%;color:aliceblue;background-color: black;}
.x5{display:flex;}
.x11{background-color: blue;width:380px;text-align: center;}
.x11 a{text-decoration: none;font-size:18px;color:black;cursor: pointer;}
.x11:hover{background-color:yellowgreen;}
.x12{ background-color:green;width:410px;text-align: center;}
.x12 a{text-decoration: none;font-size:18px;color:black;cursor: pointer;}
.x12:hover{background-color:yellowgreen;}
.x6{background-color:aquamarine;width:800px;text-align: center;height:5%;  }
    

.pp {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      z-index: 1000;
  }
  .over {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 999;
  }




    </style>

    

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drop down menu</title>
    
</head>
<body>
    <!--
1)creation of list using div<ul><li></li></ul>
2)under list create sub menu 
Traffic Building,ULY-1,ULY-3,ULY-4,ULY-6,Weighting Bridge and Weighting Bridge 2

    -->
    <marquee>
      <p>
        Namaste
      </p>
    </marquee>
   <h1>YARD MANAGEMENT SYSTEM</h1>
   <div class="menu-bar">
    <ul>
       
        <li><a href="#">Yard Map</a>
        <div class="sub-menu">
            <ul>
               <li class="hover-me"><a href="#">Yard Map 2D</a>
                <div class="sub-menu-2">
                    <ul>
                    <li><a href="#">CSPY East Block</a></li>
                    <li><a href="#">CSPY West Block</a></li>
                    <li><a href="#">Consignment</a></li>
                    <li><a href="#">Kiosk</a></li>
                    <li><a href="#">Kiosk-2</a></li>
                    <li><a href="#">LY-1</a></li>
                    <li><a href="#">LY-2</a></li>
                    <li><a href="#">LY-3</a></li>
                    <li><a href="#">LY-4</a></li>
                    <li><a href="#">Parking</a></li>
                    <li><a href="#">Reprocessing</a></li>
                    <li><a href="#">Consignment</a></li>
                    <li><a href="#">Traffic Building</a></li>
                    <li><a href="#">ULY-1</a></li>
                    <li><a href="#">ULY-3</a></li>
                    <li><a href="#">ULY-4</a></li>
                    <li><a href="#">ULY-6</a></li>
                    <li><a href="#">Weighting Bridge</a></li>
                    <li><a href="#">Weighting Bridge-2</a></li>
              </ul>
                </div>
            
            
            
            
            
            </li>
            </ul>
            </div></li>
        <li><a href="#">Monitors</a>
            <div class="sub-menu">
                <ul>
                    <li><a href="#">Yard Monitor</a>
                        
                 </li>
            <li><a href="#">Rake Monitor</a>
           
        </li>
        <li><a href="#">Hook Monitor</a></li>
        <li><a href="{% url 'dash' %}">DashBoard </a></li>
    </ul>
    </div>  
       </li>
        <li class="hover-me"><a href="#">Rake Management</a>
        <div class="sub-menu">
          <ul>
            <li><a href="#">Hooks</a></li>
            <li><a href="#">Rakes</a></li>
            <li><a href="#">Wagon Type Configuration</a></li>
            <li><a href="#">Pre Rake Out Verification</a></li>
          </ul>
        </div>
        </li>
        <li class="hover-me"><a href="#">Truck Manager</a>
        <div class="sub-menu">
<ul>
<li><a href="#">Inbound Trucks</a></li>
<li><a href="#">Dispatch Trucks</a></li>
<li><a href="#">Dispatch by Rake</a></li>
<li><a href="#">Others</a></li>
</ul>


        </div>
        
        
        </li>
        <li><a href="#">Workorders</a>
            <div class="sub-menu">
                <ul>
                   <li class="hover-me"><a href="#">WorkOrder Index</a>
                   
                    <div class="sub-menu-2">
                        <ul>
                        <li><a href="#"> My Workorder</a></li>
                        <li><a href="#">Inbound via Hook</a></li>
                        <li><a href="#">Inbound via Truck</a></li>
                        <li><a href="#">Stock Verification</a></li>
                        <li><a href="#">MaterialProcessing</a></li>
                        <li><a href="#">Manual Workorder</a></li>
                        <li><a href="#">Rake Dispatch</a></li>
                        <li><a href="#">Rake Outbound</a></li>
                        <li><a href="#">DirectDispatchbyRake</a></li>
                        <li><a href="#">Truck Dispatch</a></li>
                        <li><a href="#">Truck Outbound</a></li>
                        <li><a href="#">DirectDispatchbyTruck</a></li>
                        <li><a href="#">Traffic Building</a></li>
                        <li><a href="#">CurrentWorkorders</a></li>
                        <li><a href="#">FinishedWorkorders</a></li>
                        <li><a href="#">CancelledWorkorders</a></li>
                        
                  </ul>
                    </div>
                
                
                
                </li>
                </ul>
               
                    <ul>

                       <li class="hover-me"><a href="#">WorkOrder Manager</a>
                        <div class="sub-menu-2">
                          <ul>
                          <li><a href="#">Hook Unload</a></li>
                          <li><a href="#">Rake Dispatch</a></li>
                          <li><a href="#">others</a></li>
                        </ul>
                        </div>
                       </li>
                    </ul>
                   
                        <ul>
                          <li><a href="#">Manual Workorder</a></li>
                        </ul>
                      
                            <ul>
                               <li><a href="#">New Manual Workorder</a></li>
                            </ul>
                           
                              
                                </div>
        
        
        
        
        
        </li>
        <li><a href="#">Search</a></li>
        <li class="hover-me"><a href="#">Manual Updates</a>
          <div class="sub-menu">
            <ul>
              <li><a href="#">Inventory</a></li>
              <li><a href="#">Part Bundle</a></li>
              <li><a href="#">Stock Verification</a></li>
              <li><a href="#">Material Processing</a></li>
              <li><a href="#">Hold Reasons Master</a></li>
            </ul>
          </div>
          </li>
        <li><a href="#">Reports</a>
        <div class="sub-menu">
            <ul>
               <li class="hover-me"><a href="#">Miscellenous</a>
              <div class="sub-menu-2">
           
                    <ul>
                    <li><a href="#">dispatch truck history</a></li>
                    <li><a href="#">rake plan received</a></li>
                    <li><a href="#">f-note report history</a></li>
                    <li><a href="#">pre rake out</a></li>
                    <li><a href="#">pre rake out verification</a></li>
                    <li><a href="#">rakes challan gross weightment report</a></li>
                    <li><a href="#">material processing report</a></li>
                    <li><a href="#">indent dispatched  through yms</a></li>
                    <li><a href="#">pre raked out vsloaded</a></li>
                    <li><a href="#">Parking</a></li>
                    <li><a href="#">dispatch rake verification</a></li>
                    <li><a href="#">hold wagon history report </a></li>
            
              </ul>
                </div>
              
              
              
              </li>
            </ul>
          
                 <ul>
                   <li class="hover-me"><a href="#">Work Orders</a>
                    <div class="sub-menu-2">
           
                      <ul>
                      <li><a href="#">hook workorders</a></li>
                      <li><a href="#">rake plan workorders</a></li>
                      <li><a href="#">finsihed workorders detail</a></li>
                      <li><a href="#">cancelled workorders</a></li>
                    
              
                </ul>
                  </div>
                  
                  
                  
                  
                  
                  </li>
                </ul>
              
                    <ul>
                       <li class="hover-me"><a href="#">Interface Reports</a>
                        <div class="sub-menu-2">
           
                          <ul>
                          <li><a href="#">hook recieved history</a></li>
                          <li><a href="#">captive truck received history</a></li>
                          <li><a href="#">rake plan received history</a></li>
                          <li><a href="#">truck plan received history</a></li>
                          <li><a href="#">rake dispatch history report</a></li>
                          <li><a href="#">rake dispatch material report history</a></li>
                          <li><a href="#">text report history</a></li>
                          <li><a href="#">stock verification received history</a></li>
                          <li><a href="#">stock verification sent history </a></li>
                          <li><a href="#">material wise weight information from erp </a></li>
                       
                  
                    </ul>
                      </div>
                      
                      
                      
                      
                      </li>
                    </ul>
                  
                        <ul>
                           <li class="hover-me"><a href="#">Yard Reports</a>
                            <div class="sub-menu-2">
                            <ul>
                              <li><a href="#">location history</a></li>
                              <li><a href="#">layer wise report</a></li>
                              <li><a href="#">stock yard stock</a></li>
                              <li><a href="#">staged yard stock </a></li>
                              <li><a href="#">material coe wise bins report </a></li>
                             
                            
                      
                        </ul>
                      </div>
                      </li>
                        </ul>
                       
                            <ul>
                               <li class="hover-me"><a href="#">Material and Movements</a>
                              <ul>
                                <div class="sub-menu-2">
                                  <li><a href="#">Finished material History</a></li>
                                  <li><a href="#">Individual material History</a></li>
                                  <li><a href="#">Semi material History</a></li>
                                  <li><a href="#">Bin Location History </a></li>
                                  <li><a href="#">Destination Location Overriden History</a></li>    
                                  <li><a href="#">Timedout Workorder History</a></li>                                  
                                </div>
                              </ul>
                              
                              
                              </li>
                            </ul>
                            </div>
                        </li>
        <li><a href="#">Configuration</a>
            <div class="sub-menu">
                <ul>
                   <li><a href="{% url 'sy' %}">Sync Material Weight</a></li>
                </ul>
                
                
                    <ul>
                       <li><a href="{% url 'dev' %}">Update Device Information</a></li>
                    </ul>
                   
                    
                        <ul>
                           <li><a href="{% url 'mat' %}">Material Management</a></li>
                        </ul>
                      
                        
                            <ul>
                               <li><a href="#">Bin Configuration</a></li>
                            </ul>
                          
                            
                                <ul>
                                   <li><a href="{% url 'gp' %}">GPS Configuration</a></li>
                                </ul>
                               
                                    <ul>
                                       <li><a href="#">Update General Configuration</a></li>
                                    </ul>
                                 
                                    
                                        <ul>
                                           <li><a href="#">Announcement Configuration</a></li>
                                        </ul>
                                        
                                       
                                            <ul>
                                               <li><a href="#">User Configuration</a></li>
                                            </ul>
                                        
                                         
                                                <ul>
                                                   <li><button onclick="togglePopup()" style="background-color: rgb(0,100,0); color:white; border:0;font-size:12px;font-family: 'Times New Roman', Times, serif;">Update Authority</button></li>
                                                </ul>
                                              
                                                    <ul>
                                                       <li><a href="#">Update Report Authority</a></li>
                                                    </ul>
                                                  
                                                    
                                                        <ul>
                                                           <li><a href="{% url 'veh' %}">User Defined Vehicle Name</a></li>
                                                        </ul>
                                                        </div>
        </li>
    </ul>
</div>
<div class="bnt">
  <button><a href="{% url 'home' %}" style="text-decoration:none;">Hooks</a></button>
  <button style="background-color:aqua;border:0;"><a href="#" style="text-decoration:none;">Rakes</a></button>
  <a href="{% url 'generat_csv' %}" style="position: relative; left: 70%;">
    <i class="fa fa-download" style="font-size: 24px; background-color: gray;border-radius:30%; color:yellow;"></i> 
  </a>
</div>
<br>

<table>
    <tr>
      <th>PlatForm</th>
      <th>Indent No</th>
      <th>Destinations</th>
      <th>Status</th>
      <th>Wagon Count</th>
      <th>Placement Memo</th>
      <th>PlatForm Association</th>
      <th>Generate Workorder</th>
      <th>Rake In</th>
      <th>Loading Completion</th>
      <th>TXR Health Status</th>
      <th>TXR Print</th>
      <th>TXR Certification</th>
      <th>Print F-Note</th>
      <th>Verify</th>
      <th>Rake Out</th>
    </tr>
    {%if f %}
    {%for k in f %}
    <tr>
      <td>{{k.pt}}</td>
      <td><a href="{% url 'fil' k.id %}">{{k.ino}}</a></td>
      <td>{{k.stat}}</td>
      <td>{{k.desti}}</td> 
      <td>{{k.rcont}}</td>
      <td><a href="" onclick="initie(`{{k.id}}`)">Initiate</a>
      <script>
function initie(l){
  event.preventDefault();
    Swal.fire({
        title: `Memo Request`, // Dynamically insert the item's name
        text: "Are you sure that memos are assigned?",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Yes',
        cancelButtonText: 'No',
        reverseButtons: true,
    
        timerProgressBar: true // Display a progress bar indicating the remaining time
    }).then((result) => {
        if (result.isConfirmed) {
            Swal.fire('Success!', 'PlatForm Assigned', 'success');
        window.location.href='memo/'+l
        } else {
          
            // Handle cancellation or do nothing
        }
    });



}

      </script>
      </td>
      <td>{% if 3 == 3 %}<a  style="text-decoration:none;" onclick="modale('{{ k}}','{{k.ino}}')">Assigned Platform</a>
        <div id="over{{k}}" onclick="clseq('{{k}}')"
                                 style="display: none;
                                        position: fixed;
                                        top: 0;
                                        left: 0;
                                        width: 100%;
                                        height: 100%;
                                        background-color: rgba(0, 0, 0, 0.5);
                                        z-index: 999;"></div>
                            
                            <!-- Pop-up form -->
                            <div class="pp" id="pp{{k}}" style="display: none;">
                              
                                <form method="POST" action="{% url 'rat' k.id %}" id="myForm">
                                  {% csrf_token %}
                                    <label for="name">Drop Bin</label><br>
                                    <input  type='text'id="nameq{{k}}" name="nameq{{k}}" value="12"  style="margin-bottom: 20px; padding: 0;" readonly><br>
                                    <label for="name">Drop Zone</label><br>
                                    <input type="text" id="namq{{k}}" name="namq{{k}}" style="margin-bottom: 20px; padding: 0;" ><br>
                                    <button onclick="conf()">Submit</button>
                                
                                  </form>
                            </div>
        <script>
         function modale(l,p) {
                                
                                document.getElementById("over" + l).style.display = "block";
                                document.getElementById("pp" + l).style.display = "block";
                        
                               document.getElementById('nameq'+l).value=p;
                             
                              }
                        
                            // Function to close the modal and overlay
                            function clseq(k) {
                              
                                var overlay = document.getElementById("over" + k);
                                var modal = document.getElementById("pp" + k);
                        
                                // Check if the clicked element is the overlay itself
                                if (event.target === overlay) {
                                    modal.style.display = "none";
                                    overlay.style.display = "none";
                                }
                            }
                            function conf() {
  event.preventDefault();
    Swal.fire({
        title: `Platform Request`, // Dynamically insert the item's name
        text: "Are you sure to assign platform?",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Yes',
        cancelButtonText: 'No',
        reverseButtons: true,
    
        timerProgressBar: true // Display a progress bar indicating the remaining time
    }).then((result) => {
        if (result.isConfirmed) {
            Swal.fire('Success!', 'PlatForm Assigned', 'success');
            setTimeout(function() {
                          
                     
           document.getElementById('myForm').submit() }, 3000);
        } else {
          
            // Handle cancellation or do nothing
        }
    });
}



      
      </script>


      {% else %}
      <a href="" style="text-decoration:none;" onclick="gh(event)">Assigned Platform</a>
      
      <script>
   function gh(event){
    event.preventDefault();
    
                          
                       
    Swal.fire({
  icon: "error",
  title: "Oops...",
  text: "Already Platform Assigned",

});


   }


      </script>
      
      {% endif %}</td></a>
      {% if k.desti == 'PLAN' or k.dest == 'COMPOSITION'  %}
      <td><a>N/A</a></td>
      {% else %}
      <td><a onclick="fl('{{k.id}}','{{k.ino}}')">Generate</a>
      <script>
        function fl(id,vfx){
    Swal.fire({
        title: `WORKORDER GENERATION`, // Dynamically insert the item's name
        text: `Are you sure to assign workorders for ${vfx}?`,
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Yes',
        cancelButtonText: 'No',
        reverseButtons: true,
    
        timerProgressBar: true // Display a progress bar indicating the remaining time
    }).then((result) => {
        if (result.isConfirmed) {
            Swal.fire('Success!', 'PlatForm Assigned', 'success');
            setTimeout(function() {
              window.location.href='ordie/'+id;
                    
       }, 3000);
        } else {
          
            // Handle cancellation or do nothing
        }
    });
}

        
      </script>
      
      </td>
      {% endif %}
      <td>{% if 3 == 3 %}<a  style="text-decoration:none;" onclick="mod('{{ k}}','{{k.ino}}')">Rake in </a>
        <div id="overb{{k}}" onclick="clseqq('{{k}}')"
                                 style="display: none;
                                        position: fixed;
                                        top: 0;
                                        left: 0;
                                        width: 100%;
                                        height: 100%;
                                        background-color: rgba(0, 0, 0, 0.5);
                                        z-index: 999;"></div>
                            
                            <!-- Pop-up form -->
                            <div class="pp" id="ppb{{k}}" style="display: none;">
                              
                                <form method="POST" action="#" id="myForm">
                                  {% csrf_token %}
                                    <label for="name">Drop Bin</label><br>
                                    <input  type='text'id="nameqq{{k}}" name="nameq{{k}}" value="12"  style="margin-bottom: 20px; padding: 0;" readonly><br>
                                    <label for="name">Drop Zone</label><br>
                                    <input type="text" id="namqq{{k}}" name="namq{{k}}" style="margin-bottom: 20px; padding: 0;" ><br>
                                    <button onclick="con()">Submit</button>
                                
                                  </form>
                            </div>
        <script>
         function mod(l,p) {
                                
                                document.getElementById("overb" + l).style.display = "block";
                                document.getElementById("ppb" + l).style.display = "block";
                        
                               document.getElementById('nameqq'+l).value=p;
                             
                              }
                        
                            // Function to close the modal and overlay
                            function clseqq(k) {
                              
                                var overlay = document.getElementById("overb" + k);
                                var modal = document.getElementById("ppb" + k);
                        
                                // Check if the clicked element is the overlay itself
                                if (event.target === overlay) {
                                    modal.style.display = "none";
                                    overlay.style.display = "none";
                                }
                            }
                            function con() {
  event.preventDefault();
    Swal.fire({
        title: `Rake request`, // Dynamically insert the item's name
        text: "Are you sure to assign platform?",
        icon: 'warning',
        showCancelButton: true,
        confirmButtonText: 'Yes',
        cancelButtonText: 'No',
        reverseButtons: true,
    
        timerProgressBar: true // Display a progress bar indicating the remaining time
    }).then((result) => {
        if (result.isConfirmed) {
            Swal.fire('Success!', 'PlatForm Assigned', 'success');
            setTimeout(function() {
                          
                     
           document.getElementById('myForm').submit() }, 3000);
        } else {
          
            // Handle cancellation or do nothing
        }
    });
}



      
      </script>


      {% else %}
      <a href="" style="text-decoration:none;" onclick="gh(event)">Rake In</a>
      
      <script>
   function gh(event){
    event.preventDefault();
    
                          
                       
    Swal.fire({
  icon: "error",
  title: "Oops...",
  text: "Already Platform Assigned",

});


   }


      </script>
      
      {% endif %}</a></td>

      <td><a href="">Loading Completed</a></td>
      <td><a href="">TXR Heatlh</a></td>
      <td><a href="">Print</a></td>
      <td><a href="">TXR Certification</a></td>
      <td><a href="">Print</a></td>
      <td>N/A</td>
      <td>Rake Out</td>
      
    </tr>
    {% endfor %}
    {% else %}
    <h4>No records</h4>
    {% endif %}
   
  
  {% if k %}
 
  <table>
    <br>
    <br>
    <br>
    Wagon details for Rake {{x}}
    <tr>
      <th>Sequence</th>
      <th>Destination Code</th>
      <th>Wagon Name</th>
      <th>Wagon Type</th>
      <th>Material Code</th>
      <th>Material Desc</th>
      <th>SO STO Qty(ton)</th>
      <th>Status</th>
      <th>Wagon Health</th>
      <th>WorkOrders</th>
      <th>View Materials</th>
     
    </tr>

    {% for x,y in l2.items %}

    <tr>
      <td>{{forloop.counter}}</td>
    
      {% for k in y %}
      {% if k.wname == x and forloop.first %}
          <td>{{ k.dcode }}</td>
      {% endif %}
  {% endfor %}
  
  
    
     
      <td><a onclick="tog('{{forloop.counter}}')">{{x}}</a>
        <div id="{{forloop.counter}}" class="pop">
          <div class="container">
            <div class="x1">
           
  <div class="x2">
   {% for l in k2 %}
   {% if l.wname == x %}
   <div class="x4" style="background-color: aqua;"> {{l.uid}}{{l.wname}}</div>
   {% else %}
   <div class="x4"> {{l.uid}}{{l.wname}}</div>
   {% endif %}
      
 
   {% endfor %} 
  </div>

         <div class="popup-content">
           <span class="close" onclick="tog('{{forloop.counter}}')">&times;</span>
           
           <div class="x3">
             <div class="x5"><div class="x11"><a  onclick="showSection('{{x}}')">Wagon Details</a></div><div class="x12"><a onclick="showSection('{{x}}')">Wagon Material Details</a></div></div>
             <div id="section1_{{x}}" >
             <div class="x6">{{x}}</div>
             <div class="x7">
             <div class="k1">
             <div class="k2">Name<br><input type="text" value="{{x}}"></div>
             <div class="k2" style="margin-left:30%;">Wagon Type<br><input type="text" value="
              {% for k in y %}
      {% if k.wname == x and forloop.first %}
          {{ k.wtype }}
      {% endif %}
  {% endfor %}"></div>
             </div>
             <div class="k1">
              <div class="k2">Destination<br>
                  <input type="text" value="
                  {% for m in y %}
                          {% if m.wname == x and forloop.first %}
                              {{ m.stat}}
                          {% endif %}
                      {% endfor %}" >
              </div>
          </div>
          
                 <div class="k2" style="margin-left:50%;">Plan Suggested On<br><input type="text"></div>
             </div>
             <div class="k1">
                 <div class="k2">Verification Done Time<br><input type="text"></div>
                 <div class="k2" style="margin-left:30%;">Wagon Health<br><input type="text" value="{% for k in y %}
                  {% if k.wname == x and forloop.first %}
                    {{ k.whealth }}
                  {% endif %}
              {% endfor %}" 
                  ></div>
             </div>
             <div class="k4">MaterialCode:{% for k in y %}<div class="k5" style="position:relative;left:0;">{{k.mcode}}</div>{% endfor %}</div>
             <div class="x6" style="background-color: gray;height:20%;margin-top: 10%;"onmouseover="this.style.backgroundColor='yellow';"onmouseout="this.style.backgroundColor='gray';"><a href="" style="text-decoration: none;color:black;">Submit</a></div>
             </div>
                </div>
                <div id="section2_{{x}}" class="hidden">
             
                
                 <div class="x121" style="background-color: aqua; text-align: center;">SER22072211962</div> 
                 <table>
                     <tr>
                       <th>Material UID</th>
                       <th>Material Code</th>
                       <th>Pick Bin</th>
                       <th>Pick Bin Layer</th>
                       <th>Bin Age</th>
                       <th>Material Description</th>
                       <th>Weight(Ton)</th>
                     </tr>
                     <tr>
                       <td>16C000057083</td>
                       <td>1612000012800301</td>
                       <td>EB017</td>
                       <td>9</td>
                       <td>270D 1h 42 m</td>
                       <td>TMT REBAR IN CIL 12MM IS 1786 FE500D</td>
                       <td>1.317</td>
                       
                     </tr>
                     <tr>
                         <td>16C000057081</td>
                         <td>1612000012800301</td>
                         <td>EB017</td>
                         <td>9</td>
                         <td>270D 1h 42 m</td>
                         <td>TMT REBAR IN CIL 12MM IS 1786 FE500D</td>
                         <td>1.317</td>
                         
                       </tr>
                   </table>
                </div>
              
              </div>
             
             </div>
             
                 </div>
                 <script>
                   
                   function showSection(Id) {
                         // Hide all sections
                         var button1 = document.getElementById("section1_"+Id);
           var button2 = document.getElementById("section2_"+Id);

           // Toggle visibility of buttons
           if (button1.classList.contains("hidden")) {
               button1.classList.remove("hidden");
               button2.classList.add("hidden");
           } else {
               button1.classList.add("hidden");
               button2.classList.remove("hidden");
           }
       }   
                      
                        
                     
                     
                 </script>
             
             
           
         </div>
       </div>
       </div>
      
      </td>
      {% for k in y %}
      {% if k.wname == x and forloop.first %}
          <td>{{ k.wtype }}</td>
      {% endif %}
  {% endfor %}
      <td>{% for k in y %} {{k.mcode}}<br> {% endfor %}</td>
      <td>dhosaihdoiahS</td>
      
      <td>{% for k in y %} {{k.od}}<br> {% endfor %}</td>
      <td>{% for k in y %} {{k.stat}}<br> {% endfor %}</td>
      {% for k in y %}
      {% if k.wname == x and forloop.first %}
          <td>{{ k.whealth }}</td>
      {% endif %}
  {% endfor %}
  {% if kjm %}
      <td>{% for k in y %} <a href="test/{{k.sto}}" style="text-decoration:none;color:black;">{{k.sto}}</a><br> {% endfor %}</td>{% else %}<td>N/A</td>{% endif %}
      <td>View</td>
    </tr>
   {% endfor %}
  </table>
  {%else%}
  {% endif %}
  <script>
    
    // Function to toggle the popup
    function tog(id) {
      var popup = document.getElementById(id);
      if (popup.style.display === "block") {
        popup.style.display = "none";
      } else {
        popup.style.display = "block";
      }
    }
    </script>  
</body>
</html>


<!--

N/A  240135 JSPP COMPOSITION 44 N/A  N/A N/A 
N/A 240136  PLMD,KLMR  COMPOSITION 42 N/A N/A N/A
LY-2,240167,CDG,COMPOSITION,43,N/A,N/A,N/A


240136
--
1  PLMD   BOST1  BOST    461800007301201     WR COIL 7MM SAE 1008 WRM2               71.650  COMPOSITION FIT N/A N/A
2   PLMD   BOST2   BOST    161200008800301    TMT REBAR IN COIL 8MM IS 1786 FE500D   71.650  COMPOSITION FIT N/A N/A
3    PLMD   BOST3   BOST    161200008800301   TMT REBAR IN COIL 8MM IS 1786 FE500D     71.650  COMPOSITION FIT N/A N/A

240167
-------
1 GZB ECR21100973230  BOST 171612565332500  CHANNEL 125X65 MM IS 2062 E205BR 73.855 WO_CREATED FIT 100092
2 GZB ER21021810997 BOST 171612565332500 CHANNEL 125X65 MM IS2062 E250BR 73.855 WO_CREATED FIR 100093  



10, GZB ,ERP94022110915,BRN229,171612565332500,CHANNEL 125X65MM IS2062 E250BR,71.650,WO_CREATED,FIT,10092
    12, GZB ,NCR94131810058,BRN229,451100036401100,451100036405500,{ROUND 36MM CK45-RH SBM,ROUND 36 MM CK45CR SBM},{38.581,38.581},WO_CREATED,FIT,{100100,100147}



only single bundle and begins with #d- then no material is considered otherwise it is considered while obtaining material details of wagon


database(indent no,destination code,wagon name,wagon type,material code,material desc,so sto qty,status,wagon health,work orders,view material)







-->


<!--

1  VBL  NCR2113112395  BOST 461800007530201  WR COIL 7MM IS7904 HCT1130CE WRM2 46.664 WO_CREATED FIT  <105261,105262>
2  VBL  NCR21131123000  BOST 461800007530201  WR COIL 7MM IS7904 HCT1130CE WRM2 46.664 WO_CREATED FIT  <105263,105264>  
3  VBL  scr21091810026  BOST  461800007530201  WR COIL 7MM IS7904 HCT1130CE WRM2 46.664 WO_CREATED FIT  <105265   >





we can change the work order using change wagon 


useful for zooming 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zoom Scale Display</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .scaling-box {
            width: 100px;
            height: 100px;
            background-color: lightblue;
            transition: transform 0.3s ease;
            /* Hide the box by default */
            opacity: 0;
            pointer-events: none; /* Disable pointer events on the box */
        }

        #scale-display {
            position: fixed;
            top: 20px;
            left: 20px;
            padding: 10px;
            background-color: rgba(255, 255, 255, 0.8);
            border: 1px solid #ccc;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="scaling-box"></div>

    <div id="scale-display">Scale: 1.0</div>

    <script>
        const scalingBox = document.querySelector('.scaling-box');
        const scaleDisplay = document.getElementById('scale-display');
        let currentScale = 0; // Initial scale value
        const maxScale = 2.2; // Maximum allowed scale value
        const minScale = 0.5; // Minimum allowed scale value

        function handleScroll(event) {
            const deltaY = event.deltaY; // Get the vertical scroll amount
            const scaleChange = deltaY > 0 ? -0.1 : 0.1; // Determine scale change based on scroll direction

            // Calculate the new scale value
            const newScale = currentScale + scaleChange;

            // Ensure the new scale value is within the allowed range (minScale to maxScale)
            currentScale = Math.max(minScale, Math.min(newScale, maxScale));

            // Apply the new scale value to the box
            scalingBox.style.transform = `scale(${currentScale})`;

            // Update the scale display with the current scale value
            scaleDisplay.textContent = `Scale: ${currentScale.toFixed(1)}`;

            // Show the box when the scale reaches or exceeds 1.5
            if (currentScale >= 2) {
                scalingBox.style.opacity = 1;
                scalingBox.style.pointerEvents = 'auto'; // Enable pointer events on the box
            } else {
                scalingBox.style.opacity = 0;
                scalingBox.style.pointerEvents = 'none'; // Disable pointer events on the box
            }
        }

        // Add event listener for scroll events (mouse wheel)
        window.addEventListener('wheel', handleScroll);
    </script>
</body>
</html>


SHAPES THROUGH LINE 
-------------------- 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Triangle with Diagonal Lines</title>
    <style>
        .diagonal-line {
            width: 100px; /* Set the width of the line */
            height: 2px; /* Set the height (thickness) of the line */
            background-color: black; /* Set the color of the line */
            position: absolute; /* Position the line within its container */
            top: 50%; /* Position the line vertically centered */
            left: 50%; /* Position the line horizontally centered */
            transform-origin: left center; /* Set the rotation origin to the left edge of the line */
            /* Rotate the line around the z-axis */
        }
    </style>
</head>
<body>
 
    <div class="diagonal-line" style="transform: translate(-50%, -50%) rotateZ(90deg);"></div>
    

    <div class="diagonal-line" style="transform: translate(-50%, -50%) rotateZ(0deg);"></div>
    
   
    <div class="diagonal-line" style="transform: translate(-50%, -50%) rotateZ(135deg); left:71% ;width:140px"></div>
</body>
</html>




-->